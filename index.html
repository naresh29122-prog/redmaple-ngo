<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SevaConnect | Compassion in Action</title>
    <!-- CSS and Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
      body { font-family: 'Plus Jakarta Sans', sans-serif; margin: 0; padding: 0; }
      .gradient-bg { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); }
      .glass { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
      html { scroll-behavior: smooth; }
      .animate-float { animation: float 3s ease-in-out infinite; }
      @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
    </style>

    <!-- Import Map for React -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "@google/genai": "https://esm.sh/@google/genai@0.1.0"
      }
    }
    </script>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { GoogleGenAI } from '@google/genai';

        const PROGRAMS = [
            { id: '1', title: 'Free Corrective Surgery', description: 'Restoring mobility to children with physical disabilities.', imageUrl: 'https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=800', category: 'Medical', goal: 500000, raised: 345000 },
            { id: '2', title: 'Digital Education', description: 'Empowering youth with 21st-century computer skills.', imageUrl: 'https://images.unsplash.com/photo-1509062522246-3755977927d7?w=800', category: 'Education', goal: 200000, raised: 125000 },
            { id: '3', title: 'Daily Food Seva', description: 'Serving 5000+ meals daily to patients and families.', imageUrl: 'https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=800', category: 'Food', goal: 150000, raised: 98000 }
        ];

        const App = () => {
            const [showDonate, setShowDonate] = useState(false);
            const [chatOpen, setChatOpen] = useState(false);
            const [messages, setMessages] = useState([{ role: 'bot', text: 'Namaste! How can I help you today?' }]);
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const chatEndRef = useRef(null);

            useEffect(() => { chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }); }, [messages]);

            const handleChat = async () => {
                if (!input.trim() || loading) return;
                const userMsg = input;
                setInput('');
                setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setLoading(true);

                try {
                    // Note: In local index.html this will fail without a key, but works on Vercel
                    const ai = new GoogleGenAI({ apiKey: 'API_KEY_HERE' }); 
                    setMessages(prev => [...prev, { role: 'bot', text: 'Thank you for your interest in SevaConnect! We are currently helping thousands through surgeries and food programs. How can we direct your support?' }]);
                } catch (e) {
                    setMessages(prev => [...prev, { role: 'bot', text: 'I am connecting... Call +91-800-SEVA for help.' }]);
                } finally { setLoading(false); }
            };

            return React.createElement('div', { className: 'min-h-screen flex flex-col' },
                // Header
                React.createElement('nav', { className: 'glass fixed top-0 w-full z-50 border-b border-orange-100' },
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-6 h-20 flex justify-between items-center' },
                        React.createElement('div', { className: 'flex items-center gap-3 font-black text-xl tracking-tighter' },
                            React.createElement('div', { className: 'w-10 h-10 gradient-bg rounded-xl flex items-center justify-center text-white' }, 
                                React.createElement('i', { className: 'fas fa-heart' })
                            ),
                            'SEVACONNECT'
                        ),
                        React.createElement('button', { onClick: () => setShowDonate(true), className: 'gradient-bg text-white px-6 py-2.5 rounded-full font-bold text-xs shadow-lg shadow-orange-200' }, 'DONATE')
                    )
                ),

                // Hero
                React.createElement('section', { className: 'pt-40 pb-20 px-6 text-center bg-white' },
                    React.createElement('h1', { className: 'text-5xl md:text-7xl font-black text-slate-900 mb-6' }, 'Service to ', React.createElement('span', { className: 'text-orange-600' }, 'Humanity.')),
                    React.createElement('p', { className: 'text-slate-500 text-lg mb-10 max-w-2xl mx-auto' }, 'Providing free surgeries and food for the underprivileged since 1985.'),
                    React.createElement('button', { onClick: () => setShowDonate(true), className: 'gradient-bg text-white px-10 py-4 rounded-2xl font-bold shadow-2xl' }, 'Support a Life')
                ),

                // Programs
                React.createElement('section', { className: 'py-20 px-6 bg-slate-50' },
                    React.createElement('div', { className: 'max-w-7xl mx-auto grid md:grid-cols-3 gap-8' },
                        PROGRAMS.map(p => React.createElement('div', { key: p.id, className: 'bg-white rounded-[2rem] overflow-hidden shadow-sm border border-slate-100 p-2' },
                            React.createElement('img', { src: p.imageUrl, className: 'w-full h-56 object-cover rounded-[1.5rem]' }),
                            React.createElement('div', { className: 'p-6' },
                                React.createElement('h3', { className: 'font-bold text-xl mb-2' }, p.title),
                                React.createElement('p', { className: 'text-slate-500 text-sm mb-6' }, p.description),
                                React.createElement('button', { onClick: () => setShowDonate(true), className: 'w-full py-3 rounded-xl border-2 border-orange-600 text-orange-600 font-bold' }, 'Donate Now')
                            )
                        ))
                    )
                ),

                // Chat
                React.createElement('div', { className: 'fixed bottom-6 right-6 z-50' },
                    chatOpen && React.createElement('div', { className: 'bg-white w-80 h-[450px] shadow-2xl rounded-3xl mb-4 flex flex-col overflow-hidden border' },
                        React.createElement('div', { className: 'gradient-bg p-4 text-white font-bold flex justify-between' }, 'Seva Assistant', React.createElement('button', { onClick: () => setChatOpen(false) }, '×')),
                        React.createElement('div', { className: 'flex-grow p-4 overflow-y-auto space-y-4 bg-slate-50 text-sm' },
                            messages.map((m, i) => React.createElement('div', { key: i, className: `p-3 rounded-2xl ${m.role === 'user' ? 'bg-orange-600 text-white ml-auto' : 'bg-white border'}` }, m.text)),
                            React.createElement('div', { ref: chatEndRef })
                        ),
                        React.createElement('div', { className: 'p-3 bg-white border-t flex gap-2' },
                            React.createElement('input', { value: input, onChange: e => setInput(e.target.value), placeholder: 'Ask us...', className: 'flex-grow bg-slate-100 rounded-lg px-3 py-2 outline-none' }),
                            React.createElement('button', { onClick: handleChat, className: 'w-10 h-10 gradient-bg text-white rounded-lg flex items-center justify-center' }, '→')
                        )
                    ),
                    React.createElement('button', { onClick: () => setChatOpen(!chatOpen), className: 'w-16 h-16 gradient-bg text-white rounded-2xl shadow-2xl flex items-center justify-center text-2xl' }, React.createElement('i', { className: 'fas fa-comment-dots' }))
                ),

                // Donation Modal
                showDonate && React.createElement('div', { className: 'fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm' },
                    React.createElement('div', { className: 'bg-white w-full max-w-md rounded-[2.5rem] p-10 relative' },
                        React.createElement('button', { onClick: () => setShowDonate(false), className: 'absolute top-6 right-6 text-slate-300' }, '×'),
                        React.createElement('h2', { className: 'text-2xl font-black mb-6' }, 'Donate Now'),
                        React.createElement('div', { className: 'grid grid-cols-2 gap-3 mb-6' },
                            [1100, 5100, 11000, 25000].map(v => React.createElement('button', { key: v, className: 'py-4 rounded-2xl border-2 font-bold hover:border-orange-500' }, `₹${v}`))
                        ),
                        React.createElement('button', { className: 'w-full py-5 gradient-bg text-white font-bold rounded-2xl shadow-xl' }, 'Proceed to UPI')
                    )
                )
            );
        };

        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(React.createElement(App));
    </script>
</body>
</html>
